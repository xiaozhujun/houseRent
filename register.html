<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">  
<html>  
<head>  
<script src="/js/jquery-1.7.2.min.js" type="text/javascript"></script>
<script src="/js/config.js" type="text/javascript"></script>
<script src="/js/urlUtil.js" type="text/javascript"></script>
<link href="/css/common.css" type="text/css" rel="stylesheet">
<link href="/css/user/register.css" type="text/css" rel="stylesheet">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">  
<title>注册</title>  
</head>  
<body>  
	<script type="text/javascript">
		$(document).ready(function(){
			$('#registerBtn').click(function(){
				var data = {};
				data.name = $('#nameInput').val();
				data.realName = $('#realNameInput').val();
				data.password = $('#passwordInput').val();
				data.repassword = $('#repasswordInput').val();
				data.email = $('#emailInput').val();
				data.phone = $('#phoneInput').val();
				data.identifyNum = $('#identifyNumInput').val();
				data.verify = $('#verifyInput').val();
				data.invitor = $('#invitorInput').val();
				data.invitationCode = $('#invitationCodeInput').val();
				$.post($.URL.user.register,data,callback,"json");
			});
			
			$('#verify').attr('src',$.URL.user.verify);
			
			$('#invitorInput').val($.getUrlParam('invitor'));
			$('#invitationCodeInput').val($.getUrlParam('invitationCode'));
		});
		
		//回调函数
		function callback(result)
		{
			$('.messageDiv').html(result.data.msg);
		}
		
		function show(){  
	        document.getElementById("verify").src=$.URL.user.verify +'/' +Math.random();  
	          
	    }  
	</script>
<div id='mainContainer'>
    <form action=""  method="post" >  
    <div class='titleDiv'>请认真填写以下注册信息</div>  
    <div class='rowDiv'>  
    	<div class='labelDiv'>用户名：</div>  
        <div class='inputDiv'><input id='nameInput' type="text" name="name">*(长度的要求是5~15位之间)</div>  
    </div> 
     <div class='rowDiv'>  
    	<div class='labelDiv'>真实姓名：</div>  
        <div class='inputDiv'><input id='realNameInput' type="text" name="realName">*</div>  
    </div> 
    <div class='rowDiv'>  
    	<div class='labelDiv'>密码：</div>  
        <div class='inputDiv'><input id='passwordInput' type="password" name="password">*(长度的要求是5~15位之间)</div>  
    </div>  
    <div class='rowDiv'>  
    	<div class='labelDiv'>确认密码：</div>  
        <div class='inputDiv'><input id='repasswordInput' type="password" name="repassword">*</div>  
    </div> 
    <div class='rowDiv'>  
    	<div class='labelDiv'>邮箱：</div>  
        <div class='inputDiv'><input id='emailInput' type="text" name="email">*</div>  
    </div> 
     <div class='rowDiv'>  
    	<div class='labelDiv'>手机号：</div>  
        <div class='inputDiv'><input id='phoneInput' type="text" name="phone">*</div>  
    </div> 
    <div class='rowDiv'>  
    	<div class='labelDiv'>身份证号：</div>  
        <div class='inputDiv'><input id='identifyNumInput' type="text" name="identifyNum">*</div>  
    </div> 
    <div class='rowDiv'>  
    	<div class='labelDiv'>验证码：</div>  
        <div class='inputDiv'><input id='verifyInput' type="text" name="verify" ><img id="verify" alt="验证码" onClick="show()" src=""><a href="javascript:show()">看不清楚</a></div>  
    </div>
    <div class='messageDiv'></div>      
    <div class='actionDiv'>  
    	<div id='registerActionDiv'><input id='registerBtn' type="button" value="注册"></div>
    	<div id='loginLinkDiv'><a href="/login.html">登录</a></div></div>  
    </div>     
	<input id='invitorInput' type='hidden' name='invitor'/>
	<input id='invitationCodeInput' type='hidden' name='invitationCode'/>
</form>  
</div>
</body>  
</html>  